(function(e,t){'object'==typeof exports&&'object'==typeof module?module.exports=t():'function'==typeof define&&define.amd?define([],t):'object'==typeof exports?exports.Civ5Save=t():e.Civ5Save=t()})(this,function(){var e=String.fromCharCode,t=Math.min;return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(n,'a',n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s=79)}([function(e){var t=e.exports={version:'2.4.0'};'number'==typeof __e&&(__e=t)},function(e){var t=e.exports='undefined'!=typeof window&&window.Math==Math?window:'undefined'!=typeof self&&self.Math==Math?self:Function('return this')();'number'==typeof __g&&(__g=t)},function(e,t,n){var r=n(1),a=n(0),o=n(11),i=n(12),s='prototype',l=function(e,t,n){var p,u,d,f=e&l.F,y=e&l.G,_=e&l.S,c=e&l.P,g=e&l.B,O=e&l.W,m=y?a:a[t]||(a[t]={}),h=m[s],S=y?r:_?r[t]:(r[t]||{})[s];for(p in y&&(n=t),n)u=!f&&S&&void 0!==S[p],u&&p in m||(d=u?S[p]:n[p],m[p]=y&&'function'!=typeof S[p]?n[p]:g&&u?o(d,r):O&&S[p]==d?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n);}return new e(t,n,r)}return e.apply(this,arguments)};return t[s]=e[s],t}(d):c&&'function'==typeof d?o(Function.call,d):d,c&&((m.virtual||(m.virtual={}))[p]=d,e&l.R&&h&&!h[p]&&i(h,p,d)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,n){var r=n(38)('wks'),a=n(27),o=n(1).Symbol,i='function'==typeof o,s=e.exports=function(e){return r[e]||(r[e]=i&&o[e]||(i?o:a)('Symbol.'+e))};s.store=r},function(e,t){'use strict';t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}},function(e,t,n){var r=n(9),a=n(56),o=n(41),i=Object.defineProperty;t.f=n(7)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),a)try{return i(e,t,n)}catch(t){}if('get'in n||'set'in n)throw TypeError('Accessors not supported!');return'value'in n&&(e[t]=n.value),e}},function(e){e.exports=function(e){return'object'==typeof e?null!==e:'function'==typeof e}},function(e,t,n){e.exports=!n(10)(function(){return 7!=Object.defineProperty({},'a',{get:function(){return 7}}).a})},function(e,t,n){'use strict';t.__esModule=!0;var r=n(134),a=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(){function e(e,t){for(var n,r=0;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),(0,a.default)(e,n.key,n)}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){var r=n(6);e.exports=function(e){if(!r(e))throw TypeError(e+' is not an object!');return e}},function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,n){var r=n(21);e.exports=function(e,t,n){return(r(e),void 0===t)?e:1===n?function(n){return e.call(t,n)}:2===n?function(n,r){return e.call(t,n,r)}:3===n?function(n,r,a){return e.call(t,n,r,a)}:function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(5),a=n(22);e.exports=n(7)?function(e,t,n){return r.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},function(e){var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},function(e,t,n){var r=n(44),a=n(20);e.exports=function(e){return r(a(e))}},function(e,t,n){e.exports={default:n(80),__esModule:!0}},function(e,t,n){var r=n(20);e.exports=function(e){return Object(r(e))}},function(e,t,n){'use strict';t.__esModule=!0;var r=n(57),a=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'===('undefined'==typeof t?'undefined':(0,a.default)(t))||'function'==typeof t)?t:e}},function(e,t,n){var r=n(59),a=n(45);e.exports=Object.keys||function(e){return r(e,a)}},function(e,t,n){'use strict';function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(65),o=r(a),i=n(66),s=r(i),l=n(57),p=r(l);t.default=function(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+('undefined'==typeof t?'undefined':(0,p.default)(t)));e.prototype=(0,s.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o.default?(0,o.default)(e,t):e.__proto__=t)}},function(e){e.exports=function(e){if(e==void 0)throw TypeError('Can\'t call method on  '+e);return e}},function(e){e.exports=function(e){if('function'!=typeof e)throw TypeError(e+' is not a function!');return e}},function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e){e.exports={}},function(e,t,n){var r=n(9),a=n(86),o=n(45),i=n(37)('IE_PROTO'),s=function(){},l='prototype',p=function(){var e,t=n(40)('iframe'),r=o.length,a='<',i='>';for(t.style.display='none',n(60).appendChild(t),t.src='javascript:',e=t.contentWindow.document,e.open(),e.write(a+'script'+i+'document.F=Object'+a+'/script'+i),e.close(),p=e.F;r--;)delete p[l][o[r]];return p()};e.exports=Object.create||function(e,t){var n;return null===e?n=p():(s[l]=r(e),n=new s,s[l]=null,n[i]=e),void 0===t?n:a(n,t)}},function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},function(e,t,n){var r=n(5).f,a=n(13),o=n(3)('toStringTag');e.exports=function(e,t,n){e&&!a(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e){var t=0,n=Math.random();e.exports=function(e){return'Symbol('.concat(e===void 0?'':e,')_',(++t+n).toString(36))}},function(e,t,n){'use strict';var r=n(84)(!0);n(43)(String,'String',function(e){this._t=e+'',this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e){e.exports=!0},function(e,n,r){var a=r(42);e.exports=function(e){return 0<e?t(a(e),9007199254740991):0}},function(e,t,n){var r=n(27)('meta'),a=n(6),o=n(13),i=n(5).f,s=0,l=Object.isExtensible||function(){return!0},p=!n(10)(function(){return l(Object.preventExtensions({}))}),u=function(e){i(e,r,{value:{i:'O'+ ++s,w:{}}})},d=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!a(e))return'symbol'==typeof e?e:('string'==typeof e?'S':'P')+e;if(!o(e,r)){if(!l(e))return'F';if(!t)return'E';u(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!l(e))return!0;if(!t)return!1;u(e)}return e[r].w},onFreeze:function(e){return p&&d.NEED&&l(e)&&!o(e,r)&&u(e),e}}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(11),a=n(68),o=n(69),i=n(9),s=n(30),l=n(70),p={},u={},t=e.exports=function(e,t,n,d,y){var _,c,g,O,m=y?function(){return e}:l(e),h=r(n,d,t?2:1),f=0;if('function'!=typeof m)throw TypeError(e+' is not iterable!');if(o(m)){for(_=s(e.length);_>f;f++)if(O=t?h(i(c=e[f])[0],c[1]):h(e[f]),O===p||O===u)return O;}else for(g=m.call(e);!(c=g.next()).done;)if(O=a(g,h,c.value,t),O===p||O===u)return O};t.BREAK=p,t.RETURN=u},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var r=n(4),a=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function e(t,n){(0,a.default)(this,e),this.byteOffset=t,this.length=n}},function(e,t,n){'use strict';function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=n(15),o=r(a),i=n(4),s=r(i),l=n(8),p=r(l),u=n(17),d=r(u),f=n(19),y=r(f),_=n(34),c=r(_),g=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,y.default)(t,e),(0,p.default)(t,[{key:'getValue',value:function(e){return 1===this.length?e.getUint8(this.byteOffset):4===this.length?e.getUint32(this.byteOffset,!0):void 0}},{key:'setValue',value:function(e,t){1===this.length?e.setUint8(this.byteOffset,t):4===this.length&&e.setUint32(this.byteOffset,t,!0)}}]),t}(c.default);t.default=g},function(e,t,n){'use strict';function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=n(15),o=r(a),i=n(4),s=r(i),l=n(8),p=r(l),u=n(17),d=r(u),f=n(19),y=r(f),_=n(34),c=r(_),g=function(e){function t(e,n,r){(0,s.default)(this,t);var a=(0,d.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n));return a._isNullOrUndefined(a.length)&&(a.length=a._getStringLength(r,a.byteOffset)+4),a}return(0,y.default)(t,e),(0,p.default)(t,[{key:'_isNullOrUndefined',value:function(e){return'undefined'==typeof e||null===e}},{key:'_getStringLength',value:function(e,t){return e.getUint32(t,!0)}},{key:'getValue',value:function(e){return e.getString(this.byteOffset+4,this.length-4)}}]),t}(c.default);t.default=g},function(e,t,n){var r=n(38)('keys'),a=n(27);e.exports=function(e){return r[e]||(r[e]=a(e))}},function(e,t,n){var r=n(1),a='__core-js_shared__',o=r[a]||(r[a]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t,n){var r=n(2),a=n(0),o=n(10);e.exports=function(e,t){var n=(a.Object||{})[e]||Object[e],i={};i[e]=t(n),r(r.S+r.F*o(function(){n(1)}),'Object',i)}},function(e,t,n){var r=n(6),a=n(1).document,o=r(a)&&r(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},function(e,t,n){var r=n(6);e.exports=function(e,t){if(!r(e))return e;var n,a;if(t&&'function'==typeof(n=e.toString)&&!r(a=n.call(e)))return a;if('function'==typeof(n=e.valueOf)&&!r(a=n.call(e)))return a;if(!t&&'function'==typeof(n=e.toString)&&!r(a=n.call(e)))return a;throw TypeError('Can\'t convert object to primitive value')}},function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?n:t)(e)}},function(e,t,n){'use strict';var r=n(29),a=n(2),o=n(58),i=n(12),s=n(13),l=n(23),p=n(85),u=n(26),d=n(55),f=n(3)('iterator'),y=!([].keys&&'next'in[].keys()),_='keys',c='values',g=function(){return this};e.exports=function(e,t,n,O,m,h,S){p(n,t,O);var E,I,N,v=function(e){return!y&&e in A?A[e]:e===_?function(){return new n(this,e)}:e===c?function(){return new n(this,e)}:function(){return new n(this,e)}},b=t+' Iterator',P=m==c,T=!1,A=e.prototype,M=A[f]||A['@@iterator']||m&&A[m],x=M||v(m),k=m?P?v('entries'):x:void 0,B='Array'==t?A.entries||M:M;if(B&&(N=d(B.call(new e)),N!==Object.prototype&&(u(N,b,!0),!r&&!s(N,f)&&i(N,f,g))),P&&M&&M.name!==c&&(T=!0,x=function(){return M.call(this)}),(!r||S)&&(y||T||!A[f])&&i(A,f,x),l[t]=x,l[b]=g,m)if(E={values:P?x:v(c),keys:h?x:v(_),entries:k},S)for(I in E)I in A||o(A,I,E[I]);else a(a.P+a.F*(y||T),t,E);return E}},function(e,t,n){var r=n(25);e.exports=Object('z').propertyIsEnumerable(0)?Object:function(e){return'String'==r(e)?e.split(''):Object(e)}},function(e){e.exports=['constructor','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','toLocaleString','toString','valueOf']},function(e,t,n){n(89);for(var r=n(1),a=n(12),o=n(23),s=n(3)('toStringTag'),l=['NodeList','DOMTokenList','MediaList','StyleSheetList','CSSRuleList'],p=0;5>p;p++){var i=l[p],u=r[i],d=u&&u.prototype;d&&!d[s]&&a(d,s,i),o[i]=o.Array}},function(e,t,n){t.f=n(3)},function(e,t,n){var r=n(1),a=n(0),o=n(29),i=n(47),s=n(5).f;e.exports=function(e){var t=a.Symbol||(a.Symbol=o?{}:r.Symbol||{});'_'==e.charAt(0)||e in t||s(t,e,{value:i.f(e)})}},function(e,t){t.f=Object.getOwnPropertySymbols},function(){},function(e,t,n){var r=n(25),a=n(3)('toStringTag'),o='Arguments'==r(function(){return arguments}()),i=function(e,t){try{return e[t]}catch(t){}};e.exports=function(e){var t,n,s;return e===void 0?'Undefined':null===e?'Null':'string'==typeof(n=i(t=Object(e),a))?n:o?r(t):'Object'==(s=r(t))&&'function'==typeof t.callee?'Arguments':s}},function(e){e.exports=function(e,t,n,r){if(!(e instanceof t)||r!==void 0&&r in e)throw TypeError(n+': incorrect invocation!');return e}},function(e,t,n){var r=n(12);e.exports=function(e,t,n){for(var a in t)n&&e[a]?e[a]=t[a]:r(e,a,t[a]);return e}},function(e,t,n){e.exports={default:n(148),__esModule:!0}},function(e,t,n){var r=n(13),a=n(16),o=n(37)('IE_PROTO'),i=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=a(e),r(e,o)?e[o]:'function'==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?i:null}},function(e,t,n){e.exports=!n(7)&&!n(10)(function(){return 7!=Object.defineProperty(n(40)('div'),'a',{get:function(){return 7}}).a})},function(e,t,n){'use strict';function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(82),o=r(a),i=n(91),s=r(i),l='function'==typeof s.default&&'symbol'==typeof o.default?function(e){return typeof e}:function(e){return e&&'function'==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?'symbol':typeof e};t.default='function'==typeof s.default&&'symbol'===l(o.default)?function(e){return'undefined'==typeof e?'undefined':l(e)}:function(e){return e&&'function'==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?'symbol':'undefined'==typeof e?'undefined':l(e)}},function(e,t,n){e.exports=n(12)},function(e,t,n){var r=n(13),a=n(14),o=n(87)(!1),i=n(37)('IE_PROTO');e.exports=function(e,t){var n,s=a(e),l=0,p=[];for(n in s)n!=i&&r(s,n)&&p.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~o(p,n)||p.push(n));return p}},function(e,t,n){e.exports=n(1).document&&document.documentElement},function(e){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var r=n(25);e.exports=Array.isArray||function(e){return'Array'==r(e)}},function(e,t,n){var r=n(59),a=n(45).concat('length','prototype');t.f=Object.getOwnPropertyNames||function(e){return r(e,a)}},function(e,t,n){var r=n(32),a=n(22),o=n(14),i=n(41),s=n(13),l=n(56),p=Object.getOwnPropertyDescriptor;t.f=n(7)?p:function(e,t){if(e=o(e),t=i(t,!0),l)try{return p(e,t)}catch(t){}return s(e,t)?a(!r.f.call(e,t),e[t]):void 0}},function(e,t,n){e.exports={default:n(99),__esModule:!0}},function(e,t,n){e.exports={default:n(102),__esModule:!0}},function(e,t,n){e.exports={default:n(104),__esModule:!0}},function(e,t,n){var r=n(9);e.exports=function(t,e,n,a){try{return a?e(r(n)[0],n[1]):e(n)}catch(n){var o=t['return'];throw void 0!==o&&r(o.call(t)),n}}},function(e,t,n){var r=n(23),a=n(3)('iterator'),o=Array.prototype;e.exports=function(e){return e!==void 0&&(r.Array===e||o[a]===e)}},function(e,t,n){var r=n(51),a=n(3)('iterator'),o=n(23);e.exports=n(0).getIteratorMethod=function(e){if(e!=void 0)return e[a]||e['@@iterator']||o[r(e)]}},function(e,t,n){var r,a,o,i=n(11),s=n(72),l=n(60),p=n(40),u=n(1),d=u.process,f=u.setImmediate,y=u.clearImmediate,_=u.MessageChannel,c=0,g={},O='onreadystatechange',m=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},h=function(e){m.call(e.data)};f&&y||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++c]=function(){s('function'==typeof e?e:Function(e),t)},r(c),c},y=function(e){delete g[e]},'process'==n(25)(d)?r=function(e){d.nextTick(i(m,e,1))}:_?(a=new _,o=a.port2,a.port1.onmessage=h,r=i(o.postMessage,o,1)):u.addEventListener&&'function'==typeof postMessage&&!u.importScripts?(r=function(e){u.postMessage(e+'','*')},u.addEventListener('message',h,!1)):O in p('script')?r=function(e){l.appendChild(p('script'))[O]=function(){l.removeChild(this),m.call(e)}}:r=function(e){setTimeout(i(m,e,1),0)}),e.exports={set:f,clear:y}},function(e){e.exports=function(e,t,n){var r=n===void 0;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3]);}return e.apply(n,t)}},function(e,t,n){'use strict';var r=n(1),a=n(0),o=n(5),i=n(7),s=n(3)('species');e.exports=function(e){var t='function'==typeof a[e]?a[e]:r[e];i&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(3)('iterator'),a=!1;try{var o=[7][r]();o['return']=function(){a=!0},Array.from(o,function(){throw 2})}catch(t){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var o=[7],i=o[r]();i.next=function(){return{done:n=!0}},o[r]=function(){return i},e(o)}catch(t){}return n}},function(e){e.exports='\t\n\x0B\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF'},function(e,t,n){e.exports={default:n(124),__esModule:!0}},function(t,n,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,'__esModule',{value:!0});var o=r(66),i=a(o),s=r(65),l=a(s),p=r(137),u=a(p),d=r(141),f=a(d),y=r(15),_=a(y),c=r(4),g=a(c),O=r(8),m=a(O),h=r(17),S=a(h),E=r(19),I=a(E),N=function(t){function n(){return(0,g.default)(this,n),(0,S.default)(this,(n.__proto__||(0,_.default)(n)).apply(this,arguments))}return(0,I.default)(n,t),(0,m.default)(n,[{key:'getString',value:function(t,n){if('function'==typeof TextDecoder)return new TextDecoder().decode(this.buffer.slice(t,t+n));var r=e.apply(null,new Uint8Array(this.buffer.slice(t,t+n)));return decodeURIComponent(escape(r))}}]),n}(function(e){function t(){var t=(0,f.default)(e,(0,u.default)(arguments));return(0,l.default)(t,(0,_.default)(this)),t}return t.prototype=(0,i.default)(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),l.default?(0,l.default)(t,e):t.__proto__=e,t}(DataView));n.default=N},function(e,t,n){'use strict';function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=n(15),o=r(a),i=n(4),s=r(i),l=n(8),p=r(l),u=n(17),d=r(u),f=n(19),y=r(f),_=n(34),c=r(_),g=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,y.default)(t,e),(0,p.default)(t,[{key:'getValue',value:function(e){return 1===this.length?!!e.getUint8(this.byteOffset):4===this.length?!!e.getUint32(this.byteOffset,!0):void 0}},{key:'setValue',value:function(e,t){1===this.length?e.setUint8(this.byteOffset,+t):4===this.length&&e.setUint32(this.byteOffset,+t,!0)}}]),t}(c.default);t.default=g},function(t,n,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,'__esModule',{value:!0}),n.ParseError=n.InvalidSignatureError=void 0;var o=r(15),i=a(o),s=r(17),l=a(s),p=r(19),u=a(p),d=r(67),f=a(d),y=r(108),_=a(y),c=r(111),g=a(c),O=r(112),m=a(O),h=r(117),S=a(h),E=r(120),I=a(E),N=r(76),v=a(N),b=r(4),P=a(b),T=r(8),A=a(T),M=r(77),x=a(M),k=r(145),B=a(k),G=r(146),D=a(G),R=r(153),L=a(R),V=function(){function t(e){(0,P.default)(this,t),this._saveData=new x.default(e.buffer),this._verifyFileSignature(),this._properties=this._getProperties()}return(0,A.default)(t,[{key:'toBlob',value:function(){return new Blob([this._saveData],{type:'application/octet-stream'})}},{key:'_verifyFileSignature',value:function(){if('CIV5'!==this._saveData.getString(0,4))throw new w('File signature does not match. Is this a Civ 5 savegame?')}},{key:'_getProperties',value:function(){var e=null,t=0,n=new v.default,r=null,a=null;for(var o in B.default){'currentTurn'==o&&(this._setGameBuild(n.gameBuild),a=this._getSectionOffsets(this.gameBuild)),'saveGameVersion'===e&&(r=n.saveGameVersion.getValue(this._saveData));var i=(0,I.default)({},B.default[o]),s=this._getPropertySection(i,r,this.gameBuild);if(!this._isNullOrUndefined(s)){var l=i.length;i.hasOwnProperty('getLength')&&(l=i.getLength(n.enabledDLC.getArray()));var p=0;if(s===t){var u=n[e];p=u.byteOffset+u.length}else null!=e&&(p=a[s-1].start+i.byteOffsetInSection);try{n[o]=D.default.fromType(i.type,p,l,this._saveData)}catch(t){throw new U('Failure parsing save at property '+o)}e=o,t=s}}return n}},{key:'_getSectionOffsets',value:function(e){var t=[64,0,0,0],n=B.default[(0,S.default)(B.default)[(0,S.default)(B.default).length-1]],r=n.sectionByBuild[(0,S.default)(n.sectionByBuild)[(0,S.default)(n.sectionByBuild).length-1]],a=new Int8Array(this._saveData.buffer),o=[];o.push({start:0});for(var i=0;i<a.length;i++)if(this._areArraysEqual(a.slice(i,i+4),t)){if(310700>+e){var s=23;if(262623<=+e&&(s=24),o.length===s&&270>i-o[o.length-1].start)continue}var l={start:i};if(o.push(l),o[o.length-2].end=i-1,o.length===r)break}return o}},{key:'_areArraysEqual',value:function(e,t){return e.length===t.length&&e.every(function(e,n){return e===t[n]})}},{key:'_getPropertySection',value:function(e,t,n){if(e.hasOwnProperty('getSection'))return e.getSection(t);var r=null;for(var a in e.sectionByBuild)(0,m.default)(n)>=(0,m.default)(a)&&(r=e.sectionByBuild[a]);return r}},{key:'_isNullOrUndefined',value:function(e){return'undefined'==typeof e||null===e}},{key:'_getGameBuild',value:function(){for(var t='FINAL_RELEASE',n=function(){for(var e=[],n=0;n<t.length;n++)e.push(t.charCodeAt(n));return e}(),r=0,a=new Int8Array(this._saveData.buffer),o=0;o<=a.length;o++)if(this._areArraysEqual(a.slice(o,o+n.length),n)){r=o;break}for(var i='',s=r-2;0!==a.slice(s,s+1)[0];)i=e(a.slice(s,s+1))+i,s--;return i}},{key:'_setGameBuild',value:function(e){this._gameBuild='undefined'==typeof e?this._getGameBuild():e.getValue(this._saveData)}},{key:'_getPropertyIfDefined',value:function(e){if(this._properties.hasOwnProperty(e))return this._properties[e].getValue(this._saveData)}},{key:'_getBeautifiedPropertyIfDefined',value:function(e){if(this._properties.hasOwnProperty(e))return this._beautifyPropertyValue(this._properties[e].getValue(this._saveData))}},{key:'_beautifyPropertyValue',value:function(e){return e=e.split('_')[1],e=e.toLowerCase(),e=e.charAt(0).toUpperCase()+e.slice(1),e}},{key:'_beautifyMapFileValue',value:function(e){return e=e.split('/').slice(-1)[0],e=e.split('\\').slice(-1)[0],e=e.substring(0,e.lastIndexOf('.')),e=e.replace(/_/g,' '),e}},{key:'_setNewGameOption',value:function(e,t){var n=this._properties.gameOptionsMap.setValue(this._saveData,e,t);this._isNullOrUndefined(n)||(this._saveData=n)}},{key:'gameBuild',get:function(){return this._gameBuild}},{key:'gameVersion',get:function(){return this._getPropertyIfDefined('gameVersion')}},{key:'currentTurn',get:function(){return this._getPropertyIfDefined('currentTurn')}},{key:'gameMode',get:function(){if(230620<=+this.gameBuild)return B.default.gameMode.values[this._properties.gameMode.getValue(this._saveData)]}},{key:'difficulty',get:function(){return this._getBeautifiedPropertyIfDefined('difficulty')}},{key:'startingEra',get:function(){return this._getBeautifiedPropertyIfDefined('startingEra')}},{key:'currentEra',get:function(){return this._getBeautifiedPropertyIfDefined('currentEra')}},{key:'gamePace',get:function(){return this._getBeautifiedPropertyIfDefined('gamePace')}},{key:'mapSize',get:function(){return this._getBeautifiedPropertyIfDefined('mapSize')}},{key:'mapFile',get:function(){var e=this._getPropertyIfDefined('mapFile');if(!this._isNullOrUndefined(e))return this._beautifyMapFileValue(e)}},{key:'enabledDLC',get:function(){if(this._properties.hasOwnProperty('enabledDLC'))return this._properties.enabledDLC.getArray()}},{key:'players',get:function(){if(this._isNullOrUndefined(this._players)){this._players=[];for(var e,n=this._properties.playerStatuses.getArray(),r=0;r<n.length&&(e={},e.status=B.default.playerStatuses.values[n[r]],e.status!==t.PLAYER_STATUSES.NONE);r++){if(this._properties.hasOwnProperty('playerCivilizations')){if(''===this._properties.playerCivilizations.getArray()[r])break;e.civilization=this._beautifyPropertyValue(this._properties.playerCivilizations.getArray()[r])}else 0===r&&this._properties.hasOwnProperty('player1Civilization')&&(e.civilization=this._beautifyPropertyValue(this._properties.player1Civilization.getValue(this._saveData)));this._players.push(e)}}return this._players}},{key:'maxTurns',get:function(){return this._getPropertyIfDefined('maxTurns')},set:function(e){this._properties.maxTurns.setValue(this._saveData,e)}},{key:'turnTimerLength',get:function(){return this._getPropertyIfDefined('turnTimerLength')},set:function(e){this._properties.turnTimerLength.setValue(this._saveData,e)}},{key:'privateGame',get:function(){return this._getPropertyIfDefined('privateGame')},set:function(e){this._properties.privateGame.setValue(this._saveData,e)}},{key:'timeVictory',get:function(){return this._getPropertyIfDefined('timeVictory')},set:function(e){this._properties.timeVictory.setValue(this._saveData,e)}},{key:'scienceVictory',get:function(){return this._getPropertyIfDefined('scienceVictory')},set:function(e){this._properties.scienceVictory.setValue(this._saveData,e)}},{key:'dominationVictory',get:function(){return this._getPropertyIfDefined('dominationVictory')},set:function(e){this._properties.dominationVictory.setValue(this._saveData,e)}},{key:'culturalVictory',get:function(){return this._getPropertyIfDefined('culturalVictory')},set:function(e){this._properties.culturalVictory.setValue(this._saveData,e)}},{key:'diplomaticVictory',get:function(){return this._getPropertyIfDefined('diplomaticVictory')},set:function(e){this._properties.diplomaticVictory.setValue(this._saveData,e)}},{key:'alwaysPeace',get:function(){return this._properties.gameOptionsMap.getValue(this._saveData,'GAMEOPTION_ALWAYS_PEACE')},set:function(e){this._setNewGameOption('GAMEOPTION_ALWAYS_PEACE',e)}},{key:'alwaysWar',get:function(){return this._properties.gameOptionsMap.getValue(this._saveData,'GAMEOPTION_ALWAYS_WAR')},set:function(e){this._setNewGameOption('GAMEOPTION_ALWAYS_WAR',e)}},{key:'completeKills',get:function(){return this._properties.gameOptionsMap.getValue(this._saveData,'GAMEOPTION_COMPLETE_KILLS')},set:function(e){this._setNewGameOption('GAMEOPTION_COMPLETE_KILLS',e)}},{key:'lockMods',get:function(){return this._properties.gameOptionsMap.getValue(this._saveData,'GAMEOPTION_LOCK_MODS')},set:function(e){this._setNewGameOption('GAMEOPTION_LOCK_MODS',e)}},{key:'newRandomSeed',get:function(){return this._properties.gameOptionsMap.getValue(this._saveData,'GAMEOPTION_NEW_RANDOM_SEED')},set:function(e){this._setNewGameOption('GAMEOPTION_NEW_RANDOM_SEED',e)}},{key:'noBarbarians',get:function(){return this._properties.gameOptionsMap.getValue(this._saveData,'GAMEOPTION_NO_BARBARIANS')},set:function(e){this._setNewGameOption('GAMEOPTION_NO_BARBARIANS',e)}},{key:'noChangingWarPeace',get:function(){return this._properties.gameOptionsMap.getValue(this._saveData,'GAMEOPTION_NO_CHANGING_WAR_PEACE')},set:function(e){this._setNewGameOption('GAMEOPTION_NO_CHANGING_WAR_PEACE',e)}},{key:'noCityRazing',get:function(){return this._properties.gameOptionsMap.getValue(this._saveData,'GAMEOPTION_NO_CITY_RAZING')},set:function(e){this._setNewGameOption('GAMEOPTION_NO_CITY_RAZING',e)}},{key:'noCultureOverviewUI',get:function(){return this._properties.gameOptionsMap.getValue(this._saveData,'GAMEOPTION_NO_CULTURE_OVERVIEW_UI')},set:function(e){this._setNewGameOption('GAMEOPTION_NO_CULTURE_OVERVIEW_UI',e)}},{key:'noEspionage',get:function(){return this._properties.gameOptionsMap.getValue(this._saveData,'GAMEOPTION_NO_ESPIONAGE')},set:function(e){this._setNewGameOption('GAMEOPTION_NO_ESPIONAGE',e)}},{key:'noHappiness',get:function(){return this._properties.gameOptionsMap.getValue(this._saveData,'GAMEOPTION_NO_HAPPINESS')},set:function(e){this._setNewGameOption('GAMEOPTION_NO_HAPPINESS',e)}},{key:'noPolicies',get:function(){return this._properties.gameOptionsMap.getValue(this._saveData,'GAMEOPTION_NO_POLICIES')},set:function(e){this._setNewGameOption('GAMEOPTION_NO_POLICIES',e)}},{key:'noReligion',get:function(){return this._properties.gameOptionsMap.getValue(this._saveData,'GAMEOPTION_NO_RELIGION')},set:function(e){this._setNewGameOption('GAMEOPTION_NO_RELIGION',e)}},{key:'noScience',get:function(){return this._properties.gameOptionsMap.getValue(this._saveData,'GAMEOPTION_NO_SCIENCE')},set:function(e){this._setNewGameOption('GAMEOPTION_NO_SCIENCE',e)}},{key:'noWorldCongress',get:function(){return this._properties.gameOptionsMap.getValue(this._saveData,'GAMEOPTION_NO_LEAGUES')},set:function(e){this._setNewGameOption('GAMEOPTION_NO_LEAGUES',e)}},{key:'oneCityChallenge',get:function(){return this._properties.gameOptionsMap.getValue(this._saveData,'GAMEOPTION_ONE_CITY_CHALLENGE')},set:function(e){this._setNewGameOption('GAMEOPTION_ONE_CITY_CHALLENGE',e)}},{key:'pitboss',get:function(){return this._properties.gameOptionsMap.getValue(this._saveData,'GAMEOPTION_PITBOSS')},set:function(e){this._setNewGameOption('GAMEOPTION_PITBOSS',e)}},{key:'policySaving',get:function(){return this._properties.gameOptionsMap.getValue(this._saveData,'GAMEOPTION_POLICY_SAVING')},set:function(e){this._setNewGameOption('GAMEOPTION_POLICY_SAVING',e)}},{key:'promotionSaving',get:function(){return this._properties.gameOptionsMap.getValue(this._saveData,'GAMEOPTION_PROMOTION_SAVING')},set:function(e){this._setNewGameOption('GAMEOPTION_PROMOTION_SAVING',e)}},{key:'ragingBarbarians',get:function(){return this._properties.gameOptionsMap.getValue(this._saveData,'GAMEOPTION_RAGING_BARBARIANS')},set:function(e){this._setNewGameOption('GAMEOPTION_RAGING_BARBARIANS',e)}},{key:'randomPersonalities',get:function(){return this._properties.gameOptionsMap.getValue(this._saveData,'GAMEOPTION_RANDOM_PERSONALITIES')},set:function(e){this._setNewGameOption('GAMEOPTION_RANDOM_PERSONALITIES',e)}},{key:'turnTimerEnabled',get:function(){return this._properties.gameOptionsMap.getValue(this._saveData,'GAMEOPTION_END_TURN_TIMER_ENABLED')},set:function(e){this._setNewGameOption('GAMEOPTION_END_TURN_TIMER_ENABLED',e)}},{key:'turnMode',get:function(){return!0===this._properties.gameOptionsMap.getValue(this._saveData,'GAMEOPTION_DYNAMIC_TURNS')?t.TURN_MODES.HYBRID:!0===this._properties.gameOptionsMap.getValue(this._saveData,'GAMEOPTION_SIMULTANEOUS_TURNS')?t.TURN_MODES.SIMULTANEOUS:!1===this._properties.gameOptionsMap.getValue(this._saveData,'GAMEOPTION_DYNAMIC_TURNS')&&!1===this._properties.gameOptionsMap.getValue(this._saveData,'GAMEOPTION_SIMULTANEOUS_TURNS')?t.TURN_MODES.SEQUENTIAL:void 0},set:function(e){e===t.TURN_MODES.HYBRID?(this._setNewGameOption('GAMEOPTION_DYNAMIC_TURNS',!0),this._setNewGameOption('GAMEOPTION_SIMULTANEOUS_TURNS',!1)):e===t.TURN_MODES.SIMULTANEOUS?(this._setNewGameOption('GAMEOPTION_DYNAMIC_TURNS',!1),this._setNewGameOption('GAMEOPTION_SIMULTANEOUS_TURNS',!0)):e===t.TURN_MODES.SEQUENTIAL&&(this._setNewGameOption('GAMEOPTION_DYNAMIC_TURNS',!1),this._setNewGameOption('GAMEOPTION_SIMULTANEOUS_TURNS',!1))}}],[{key:'fromFile',value:function(){var e=(0,g.default)(_.default.mark(function e(n){var r;return _.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._loadData(n);case 2:return r=e.sent,e.abrupt('return',new t(r));case 4:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:'_loadData',value:function(e){return new f.default(function(t,n){var r=new FileReader;r.onload=function(){t(new DataView(r.result))},r.onerror=function(){n(r.error)},r.readAsArrayBuffer(e)})}}]),t}();V.GAME_MODES={SINGLE:'Single player',MULTI:'Multiplayer',HOTSEAT:'Hotseat'},V.PLAYER_STATUSES={AI:'AI',DEAD:'Dead',HUMAN:'Human',NONE:'None'},V.TURN_MODES={HYBRID:'Hybrid',SEQUENTIAL:'Sequential',SIMULTANEOUS:'Simultaneous'},n.default=V;var w=n.InvalidSignatureError=function(e){function t(){return(0,P.default)(this,t),(0,l.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),t}(L.default),U=n.ParseError=function(e){function t(){return(0,P.default)(this,t),(0,l.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),t}(L.default)},function(e,t,n){n(81),e.exports=n(0).Object.getPrototypeOf},function(e,t,n){var r=n(16),a=n(55);n(39)('getPrototypeOf',function(){return function(e){return a(r(e))}})},function(e,t,n){e.exports={default:n(83),__esModule:!0}},function(e,t,n){n(28),n(46),e.exports=n(47).f('iterator')},function(e,t,n){var r=n(42),o=n(20);e.exports=function(e){return function(t,n){var p,a,u=o(t)+'',s=r(n),i=u.length;return 0>s||s>=i?e?'':void 0:(p=u.charCodeAt(s),55296>p||56319<p||s+1===i||56320>(a=u.charCodeAt(s+1))||57343<a?e?u.charAt(s):p:e?u.slice(s,s+2):(p-55296<<10)+(a-56320)+65536)}}},function(e,t,n){'use strict';var r=n(24),a=n(22),o=n(26),i={};n(12)(i,n(3)('iterator'),function(){return this}),e.exports=function(e,t,n){e.prototype=r(i,{next:a(1,n)}),o(e,t+' Iterator')}},function(e,t,n){var r=n(5),a=n(9),o=n(18);e.exports=n(7)?Object.defineProperties:function(e,t){a(e);for(var n,s=o(t),l=s.length,p=0;l>p;)r.f(e,n=s[p++],t[n]);return e}},function(e,t,n){var r=n(14),a=n(30),o=n(88);e.exports=function(e){return function(t,n,i){var s,l=r(t),p=a(l.length),u=o(i,p);if(e&&n!=n){for(;p>u;)if(s=l[u++],s!=s)return!0;}else for(;p>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}}},function(e,n,r){var a=r(42),o=Math.max;e.exports=function(e,n){return e=a(e),0>e?o(e+n,0):t(e,n)}},function(e,t,n){'use strict';var r=n(90),a=n(61),o=n(23),i=n(14);e.exports=n(43)(Array,'Array',function(e,t){this._t=i(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,a(1)):'keys'==t?a(0,n):'values'==t?a(0,e[n]):a(0,[n,e[n]])},'values'),o.Arguments=o.Array,r('keys'),r('values'),r('entries')},function(e){e.exports=function(){}},function(e,t,n){e.exports={default:n(92),__esModule:!0}},function(e,t,n){n(93),n(50),n(97),n(98),e.exports=n(0).Symbol},function(e,t,n){'use strict';var r=n(1),a=n(13),o=n(7),s=n(2),l=n(58),p=n(31).KEY,u=n(10),d=n(38),f=n(26),y=n(27),_=n(3),c=n(47),g=n(48),O=n(94),m=n(95),h=n(62),S=n(9),E=n(14),I=n(41),N=n(22),v=n(24),b=n(96),P=n(64),T=n(5),A=n(18),M=P.f,x=T.f,k=b.f,B=r.Symbol,G=r.JSON,D=G&&G.stringify,R='prototype',L=_('_hidden'),V=_('toPrimitive'),w={}.propertyIsEnumerable,U=d('symbol-registry'),C=d('symbols'),Y=d('op-symbols'),j=Object[R],F='function'==typeof B,z=r.QObject,H=!z||!z[R]||!z[R].findChild,K=o&&u(function(){return 7!=v(x({},'a',{get:function(){return x(this,'a',{value:7}).a}})).a})?function(e,t,n){var r=M(j,t);r&&delete j[t],x(e,t,n),r&&e!==j&&x(j,t,r)}:x,W=function(e){var t=C[e]=v(B[R]);return t._k=e,t},J=F&&'symbol'==typeof B.iterator?function(e){return'symbol'==typeof e}:function(e){return e instanceof B},Z=function(e,t,n){return e===j&&Z(Y,t,n),S(e),t=I(t,!0),S(n),a(C,t)?(n.enumerable?(a(e,L)&&e[L][t]&&(e[L][t]=!1),n=v(n,{enumerable:N(0,!1)})):(!a(e,L)&&x(e,L,N(1,{})),e[L][t]=!0),K(e,t,n)):x(e,t,n)},q=function(e,t){S(e);for(var n,r=m(t=E(t)),a=0,o=r.length;o>a;)Z(e,n=r[a++],t[n]);return e},Q=function(e){var t=w.call(this,e=I(e,!0));return this===j&&a(C,e)&&!a(Y,e)?!1:t||!a(this,e)||!a(C,e)||a(this,L)&&this[L][e]?t:!0},$=function(e,t){if(e=E(e),t=I(t,!0),e!==j||!a(C,t)||a(Y,t)){var n=M(e,t);return n&&a(C,t)&&!(a(e,L)&&e[L][t])&&(n.enumerable=!0),n}},X=function(e){for(var t,n=k(E(e)),r=[],o=0;n.length>o;)a(C,t=n[o++])||t==L||t==p||r.push(t);return r},ee=function(e){for(var t,n=e===j,r=k(n?Y:E(e)),o=[],s=0;r.length>s;)a(C,t=r[s++])&&(!n||a(j,t))&&o.push(C[t]);return o};F||(B=function(){if(this instanceof B)throw TypeError('Symbol is not a constructor!');var e=y(0<arguments.length?arguments[0]:void 0),t=function(n){this===j&&t.call(Y,n),a(this,L)&&a(this[L],e)&&(this[L][e]=!1),K(this,e,N(1,n))};return o&&H&&K(j,e,{configurable:!0,set:t}),W(e)},l(B[R],'toString',function(){return this._k}),P.f=$,T.f=Z,n(63).f=b.f=X,n(32).f=Q,n(49).f=ee,o&&!n(29)&&l(j,'propertyIsEnumerable',Q,!0),c.f=function(e){return W(_(e))}),s(s.G+s.W+s.F*!F,{Symbol:B});for(var te=['hasInstance','isConcatSpreadable','iterator','match','replace','search','species','split','toPrimitive','toStringTag','unscopables'],ne=0;te.length>ne;)_(te[ne++]);for(var te=A(_.store),ne=0;te.length>ne;)g(te[ne++]);s(s.S+s.F*!F,'Symbol',{for:function(e){return a(U,e+='')?U[e]:U[e]=B(e)},keyFor:function(e){if(J(e))return O(U,e);throw TypeError(e+' is not a symbol!')},useSetter:function(){H=!0},useSimple:function(){H=!1}}),s(s.S+s.F*!F,'Object',{create:function(e,t){return t===void 0?v(e):q(v(e),t)},defineProperty:Z,defineProperties:q,getOwnPropertyDescriptor:$,getOwnPropertyNames:X,getOwnPropertySymbols:ee}),G&&s(s.S+s.F*(!F||u(function(){var e=B();return'[null]'!=D([e])||'{}'!=D({a:e})||'{}'!=D(Object(e))})),'JSON',{stringify:function(e){if(!(void 0===e||J(e))){for(var t,n,r=[e],a=1;arguments.length>a;)r.push(arguments[a++]);return t=r[1],'function'==typeof t&&(n=t),(n||!h(t))&&(t=function(e,t){if(n&&(t=n.call(this,e,t)),!J(t))return t}),r[1]=t,D.apply(G,r)}}}),B[R][V]||n(12)(B[R],V,B[R].valueOf),f(B,'Symbol'),f(Math,'Math',!0),f(r.JSON,'JSON',!0)},function(e,t,n){var r=n(18),a=n(14);e.exports=function(e,t){for(var n,o=a(e),i=r(o),s=i.length,l=0;s>l;)if(o[n=i[l++]]===t)return n}},function(e,t,n){var r=n(18),a=n(49),o=n(32);e.exports=function(e){var t=r(e),n=a.f;if(n)for(var s,l=n(e),p=o.f,u=0;l.length>u;)p.call(e,s=l[u++])&&t.push(s);return t}},function(e,t,n){var r=n(14),a=n(63).f,o={}.toString,i='object'==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return a(e)}catch(t){return i.slice()}};e.exports.f=function(e){return i&&'[object Window]'==o.call(e)?s(e):a(r(e))}},function(e,t,n){n(48)('asyncIterator')},function(e,t,n){n(48)('observable')},function(e,t,n){n(100),e.exports=n(0).Object.setPrototypeOf},function(e,t,n){var r=n(2);r(r.S,'Object',{setPrototypeOf:n(101).set})},function(e,t,n){var r=n(6),a=n(9),o=function(e,t){if(a(e),!r(t)&&null!==t)throw TypeError(t+': can\'t set as prototype!')};e.exports={set:Object.setPrototypeOf||('__proto__'in{}?function(e,t,r){try{r=n(11)(Function.call,n(64).f(Object.prototype,'__proto__').set,2),r(e,[]),t=!(e instanceof Array)}catch(n){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t,n){n(103);var r=n(0).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(2);r(r.S,'Object',{create:n(24)})},function(e,t,n){n(50),n(28),n(46),n(105),e.exports=n(0).Promise},function(e,t,n){'use strict';var r,a,o,i=n(29),s=n(1),l=n(11),p=n(51),u=n(2),d=n(6),f=n(21),y=n(52),_=n(33),c=n(106),g=n(71).set,O=n(107)(),m='Promise',h=s.TypeError,S=s.process,E=s[m],S=s.process,I='process'==p(S),N=function(){},v=!!function(){try{var e=E.resolve(1),t=(e.constructor={})[n(3)('species')]=function(e){e(N,N)};return(I||'function'==typeof PromiseRejectionEvent)&&e.then(N)instanceof t}catch(t){}}(),b=function(e,t){return e===t||e===E&&t===o},P=function(e){var t;return d(e)&&'function'==typeof(t=e.then)&&t},T=function(e){return b(E,e)?new A(e):new a(e)},A=a=function(e){var t,n;this.promise=new e(function(e,r){if(t!=void 0||n!=void 0)throw h('Bad Promise constructor');t=e,n=r}),this.resolve=f(t),this.reject=f(n)},M=function(e){try{e()}catch(t){return{error:t}}},x=function(e,t){if(!e._n){e._n=!0;var n=e._c;O(function(){for(var r=e._v,a=1==e._s,o=0,i=function(t){var n,o,i=a?t.ok:t.fail,s=t.resolve,l=t.reject,p=t.domain;try{i?(!a&&(2==e._h&&G(e),e._h=1),!0===i?n=r:(p&&p.enter(),n=i(r),p&&p.exit()),n===t.promise?l(h('Promise-chain cycle')):(o=P(n))?o.call(n,s,l):s(n)):l(r)}catch(t){l(t)}};n.length>o;)i(n[o++]);e._c=[],e._n=!1,t&&!e._h&&k(e)})}},k=function(e){g.call(s,function(){var t,n,r,a=e._v;if(B(e)&&(t=M(function(){I?S.emit('unhandledRejection',a,e):(n=s.onunhandledrejection)?n({promise:e,reason:a}):(r=s.console)&&r.error&&r.error('Unhandled promise rejection',a)}),e._h=I||B(e)?2:1),e._a=void 0,t)throw t.error})},B=function(e){if(1==e._h)return!1;for(var t,n=e._a||e._c,r=0;n.length>r;)if(t=n[r++],t.fail||!B(t.promise))return!1;return!0},G=function(e){g.call(s,function(){var t;I?S.emit('rejectionHandled',e):(t=s.onrejectionhandled)&&t({promise:e,reason:e._v})})},D=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,!t._a&&(t._a=t._c.slice()),x(t,!0))},R=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw h('Promise can\'t be resolved itself');(t=P(e))?O(function(){var r={_w:n,_d:!1};try{t.call(e,l(R,r,1),l(D,r,1))}catch(t){D.call(r,t)}}):(n._v=e,n._s=1,x(n,!1))}catch(t){D.call({_w:n,_d:!1},t)}}};v||(E=function(e){y(this,E,m,'_h'),f(e),r.call(this);try{e(l(R,this,1),l(D,this,1))}catch(e){D.call(this,e)}},r=function(){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(53)(E.prototype,{then:function(e,t){var n=T(c(this,E));return n.ok='function'!=typeof e||e,n.fail='function'==typeof t&&t,n.domain=I?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&x(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),A=function(){var e=new r;this.promise=e,this.resolve=l(R,e,1),this.reject=l(D,e,1)}),u(u.G+u.W+u.F*!v,{Promise:E}),n(26)(E,m),n(73)(m),o=n(0)[m],u(u.S+u.F*!v,m,{reject:function(e){var t=T(this),n=t.reject;return n(e),t.promise}}),u(u.S+u.F*(i||!v),m,{resolve:function(e){if(e instanceof E&&b(e.constructor,this))return e;var t=T(this),n=t.resolve;return n(e),t.promise}}),u(u.S+u.F*!(v&&n(74)(function(e){E.all(e)['catch'](N)})),m,{all:function(e){var t=this,n=T(t),r=n.resolve,a=n.reject,o=M(function(){var n=[],o=0,i=1;_(e,!1,function(e){var s=o++,l=!1;n.push(void 0),i++,t.resolve(e).then(function(e){l||(l=!0,n[s]=e,--i||r(n))},a)}),--i||r(n)});return o&&a(o.error),n.promise},race:function(e){var t=this,n=T(t),r=n.reject,a=M(function(){_(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return a&&r(a.error),n.promise}})},function(e,t,n){var r=n(9),a=n(21),o=n(3)('species');e.exports=function(e,t){var n,i=r(e).constructor;return i===void 0||(n=r(i)[o])==void 0?t:a(n)}},function(e,t,n){var r=n(1),a=n(71).set,o=r.MutationObserver||r.WebKitMutationObserver,i=r.process,s=r.Promise,l='process'==n(25)(i);e.exports=function(){var t,n,p,e=function(){var e,r;for(l&&(e=i.domain)&&e.exit();t;){r=t.fn,t=t.next;try{r()}catch(r){throw t?p():n=void 0,r}}n=void 0,e&&e.enter()};if(l)p=function(){i.nextTick(e)};else if(o){var u=!0,d=document.createTextNode('');new o(e).observe(d,{characterData:!0}),p=function(){d.data=u=!u}}else if(s&&s.resolve){var f=s.resolve();p=function(){f.then(e)}}else p=function(){a.call(r,e)};return function(e){var r={fn:e,next:void 0};n&&(n.next=r),t||(t=r,p()),n=r}}},function(e,t,n){e.exports=n(109)},function(e,t,n){var r=function(){return this}()||Function('return this')(),a=r.regeneratorRuntime&&0<=Object.getOwnPropertyNames(r).indexOf('regeneratorRuntime'),o=a&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(110),a)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(t){r.regeneratorRuntime=void 0}},function(e){!function(t){'use strict';function n(e,t,n,r){var o=t&&t.prototype instanceof a?t:a,i=Object.create(o.prototype),s=new y(r||[]);return i._invoke=p(e,n,s),i}function r(e,t,n){try{return{type:'normal',arg:e.call(t,n)}}catch(e){return{type:'throw',arg:e}}}function a(){}function o(){}function i(){}function s(e){['next','throw','return'].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function l(e){function t(n,a,o,i){var s=r(e[n],e,a);if('throw'===s.type)i(s.arg);else{var l=s.arg,p=l.value;return p&&'object'==typeof p&&O.call(p,'__await')?Promise.resolve(p.__await).then(function(e){t('next',e,o,i)},function(e){t('throw',e,o,i)}):Promise.resolve(p).then(function(e){l.value=e,o(l)},i)}}var n;this._invoke=function(e,r){function a(){return new Promise(function(n,a){t(e,r,n,a)})}return n=n?n.then(a,a):a()}}function p(e,t,n){var a=v;return function(o,i){if(a==P)throw new Error('Generator is already running');if(a==T){if('throw'===o)throw i;return c()}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var l=u(s,n);if(l){if(l===A)continue;return l}}if('next'===n.method)n.sent=n._sent=n.arg;else if('throw'===n.method){if(a==v)throw a=T,n.arg;n.dispatchException(n.arg)}else'return'===n.method&&n.abrupt('return',n.arg);a=P;var p=r(e,t,n);if('normal'===p.type){if(a=n.done?T:b,p.arg===A)continue;return{value:p.arg,done:n.done}}'throw'===p.type&&(a=T,n.method='throw',n.arg=p.arg)}}}function u(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,'throw'===t.method){if(e.iterator.return&&(t.method='return',t.arg=void 0,u(e,t),'throw'===t.method))return A;t.method='throw',t.arg=new TypeError('The iterator does not provide a \'throw\' method')}return A}var a=r(n,e.iterator,t.arg);if('throw'===a.type)return t.method='throw',t.arg=a.arg,t.delegate=null,A;var o=a.arg;if(!o)return t.method='throw',t.arg=new TypeError('iterator result is not an object'),t.delegate=null,A;if(o.done)t[e.resultName]=o.value,t.next=e.nextLoc,'return'!==t.method&&(t.method='next',t.arg=void 0);else return o;return t.delegate=null,A}function d(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function f(e){var t=e.completion||{};t.type='normal',delete t.arg,e.completion=t}function y(e){this.tryEntries=[{tryLoc:'root'}],e.forEach(d,this),this.reset(!0)}function _(e){if(e){var t=e[h];if(t)return t.call(e);if('function'==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(O.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:c}}function c(){return{value:void 0,done:!0}}var g=Object.prototype,O=g.hasOwnProperty,m='function'==typeof Symbol?Symbol:{},h=m.iterator||'@@iterator',S=m.asyncIterator||'@@asyncIterator',E=m.toStringTag||'@@toStringTag',I='object'==typeof e,N=t.regeneratorRuntime;if(N)return void(I&&(e.exports=N));N=t.regeneratorRuntime=I?e.exports:{},N.wrap=n;var v='suspendedStart',b='suspendedYield',P='executing',T='completed',A={},M={};M[h]=function(){return this};var x=Object.getPrototypeOf,k=x&&x(x(_([])));k&&k!==g&&O.call(k,h)&&(M=k);var B=i.prototype=a.prototype=Object.create(M);o.prototype=B.constructor=i,i.constructor=o,i[E]=o.displayName='GeneratorFunction',N.isGeneratorFunction=function(e){var t='function'==typeof e&&e.constructor;return!!t&&(t===o||'GeneratorFunction'===(t.displayName||t.name))},N.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,i):(e.__proto__=i,!(E in e)&&(e[E]='GeneratorFunction')),e.prototype=Object.create(B),e},N.awrap=function(e){return{__await:e}},s(l.prototype),l.prototype[S]=function(){return this},N.AsyncIterator=l,N.async=function(e,t,r,a){var o=new l(n(e,t,r,a));return N.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},s(B),B[E]='Generator',B[h]=function(){return this},B.toString=function(){return'[object Generator]'},N.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},N.values=_,y.prototype={constructor:y,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method='next',this.arg=void 0,this.tryEntries.forEach(f),!e)for(var t in this)'t'===t.charAt(0)&&O.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if('throw'===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return o.type='throw',o.arg=e,n.next=t,r&&(n.method='next',n.arg=void 0),!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;0<=r;--r){var a=this.tryEntries[r],o=a.completion;if('root'===a.tryLoc)return t('end');if(a.tryLoc<=this.prev){var i=O.call(a,'catchLoc'),s=O.call(a,'finallyLoc');if(i&&s){if(this.prev<a.catchLoc)return t(a.catchLoc,!0);if(this.prev<a.finallyLoc)return t(a.finallyLoc)}else if(i){if(this.prev<a.catchLoc)return t(a.catchLoc,!0);}else if(!s)throw new Error('try statement without catch or finally');else if(this.prev<a.finallyLoc)return t(a.finallyLoc)}}},abrupt:function(e,t){for(var n,r=this.tryEntries.length-1;0<=r;--r)if(n=this.tryEntries[r],n.tryLoc<=this.prev&&O.call(n,'finallyLoc')&&this.prev<n.finallyLoc){var a=n;break}a&&('break'===e||'continue'===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method='next',this.next=a.finallyLoc,A):this.complete(o)},complete:function(e,t){if('throw'===e.type)throw e.arg;return'break'===e.type||'continue'===e.type?this.next=e.arg:'return'===e.type?(this.rval=this.arg=e.arg,this.method='return',this.next='end'):'normal'===e.type&&t&&(this.next=t),A},finish:function(e){for(var t,n=this.tryEntries.length-1;0<=n;--n)if(t=this.tryEntries[n],t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),f(t),A},catch:function(e){for(var t,n=this.tryEntries.length-1;0<=n;--n)if(t=this.tryEntries[n],t.tryLoc===e){var r=t.completion;if('throw'===r.type){var a=r.arg;f(t)}return a}throw new Error('illegal catch attempt')},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},'next'===this.method&&(this.arg=void 0),A}}}(function(){return this}()||Function('return this')())},function(e,t,n){'use strict';t.__esModule=!0;var r=n(67),a=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e){return function(){var t=e.apply(this,arguments);return new a.default(function(e,n){function r(o,i){try{var s=t[o](i),l=s.value}catch(e){return void n(e)}return s.done?void e(l):a.default.resolve(l).then(function(e){r('next',e)},function(e){r('throw',e)})}return r('next')})}}},function(e,t,n){e.exports={default:n(113),__esModule:!0}},function(e,t,n){n(114),e.exports=parseInt},function(e,t,n){var r=n(2),a=n(115);r(r.S+r.F*(Number.parseInt!=a),'Number',{parseInt:a})},function(e,t,n){var r=n(1).parseInt,a=n(116).trim,o=n(75),i=/^[\-+]?0[xX]/;e.exports=8!==r(o+'08')||22!==r(o+'0x16')?function(e,t){var n=a(e+'',3);return r(n,t>>>0||(i.test(n)?16:10))}:r},function(e,t,n){var r=n(2),a=n(20),o=n(10),i=n(75),s='['+i+']',l='\u200B\x85',p=RegExp('^'+s+s+'*'),u=RegExp(s+s+'*$'),d=function(e,t,n){var a={},s=o(function(){return!!i[e]()||l[e]()!=l}),p=a[e]=s?t(f):i[e];n&&(a[n]=p),r(r.P+r.F*s,'String',a)},f=d.trim=function(e,t){return e=a(e)+'',1&t&&(e=e.replace(p,'')),2&t&&(e=e.replace(u,'')),e};e.exports=d},function(e,t,n){e.exports={default:n(118),__esModule:!0}},function(e,t,n){n(119),e.exports=n(0).Object.keys},function(e,t,n){var r=n(16),a=n(18);n(39)('keys',function(){return function(e){return a(r(e))}})},function(e,t,n){e.exports={default:n(121),__esModule:!0}},function(e,t,n){n(122),e.exports=n(0).Object.assign},function(e,t,n){var r=n(2);r(r.S+r.F,'Object',{assign:n(123)})},function(e,t,n){'use strict';var r=n(18),a=n(49),o=n(32),i=n(16),s=n(44),l=Object.assign;e.exports=!l||n(10)(function(){var e={},t={},n=Symbol(),r='abcdefghijklmnopqrst';return e[n]=7,r.split('').forEach(function(e){t[e]=e}),7!=l({},e)[n]||Object.keys(l({},t)).join('')!=r})?function(e){for(var t=i(e),n=arguments.length,l=1,p=a.f,u=o.f;n>l;)for(var d,f=s(arguments[l++]),y=p?r(f).concat(p(f)):r(f),_=y.length,c=0;_>c;)u.call(f,d=y[c++])&&(t[d]=f[d]);return t}:l},function(e,t,n){n(50),n(28),n(46),n(125),n(131),e.exports=n(0).Map},function(e,t,n){'use strict';var r=n(126);e.exports=n(127)('Map',function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(this,e);return t&&t.v},set:function(e,t){return r.def(this,0===e?0:e,t)}},r,!0)},function(e,t,n){'use strict';var r=n(5).f,a=n(24),o=n(53),i=n(11),s=n(52),l=n(20),p=n(33),u=n(43),d=n(61),f=n(73),y=n(7),_=n(31).fastKey,c=y?'_s':'size',g=function(e,t){var n,r=_(t);if('F'!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,u){var d=e(function(e,r){s(e,d,t,'_i'),e._i=a(null),e._f=void 0,e._l=void 0,e[c]=0,void 0!=r&&p(r,n,e[u],e)});return o(d.prototype,{clear:function(){for(var e=this,t=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete t[n.i];e._f=e._l=void 0,e[c]=0},delete:function(e){var t=this,n=g(t,e);if(n){var r=n.n,a=n.p;delete t._i[n.i],n.r=!0,a&&(a.n=r),r&&(r.p=a),t._f==n&&(t._f=r),t._l==n&&(t._l=a),t[c]--}return!!n},forEach:function(e){s(this,d,'forEach');for(var t,n=i(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.n:this._f;)for(n(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!g(this,e)}}),y&&r(d.prototype,'size',{get:function(){return l(this[c])}}),d},def:function(e,t,n){var r,a,o=g(e,t);return o?o.v=n:(e._l=o={i:a=_(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},!e._f&&(e._f=o),r&&(r.n=o),e[c]++,'F'!==a&&(e._i[a]=o)),e},getEntry:g,setStrong:function(e,t,n){u(e,t,function(e,t){this._t=e,this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?'keys'==t?d(0,n.k):'values'==t?d(0,n.v):d(0,[n.k,n.v]):(e._t=void 0,d(1))},n?'entries':'values',!n,!0),f(t)}}},function(e,t,n){'use strict';var r=n(1),a=n(2),o=n(31),i=n(10),s=n(12),l=n(53),p=n(33),u=n(52),d=n(6),f=n(26),y=n(5).f,_=n(128)(0),c=n(7);e.exports=function(e,t,n,g,m,h){var S=r[e],E=S,I=m?'set':'add',N=E&&E.prototype,v={};return c&&'function'==typeof E&&(h||N.forEach&&!i(function(){new E().entries().next()}))?(E=t(function(t,n){u(t,E,e,'_c'),t._c=new S,void 0!=n&&p(n,m,t[I],t)}),_(['add','clear','delete','forEach','get','has','set','keys','values','entries','toJSON'],function(e){var t='add'==e||'set'==e;e in N&&!(h&&'clear'==e)&&s(E.prototype,e,function(n,r){if(u(this,E,e),t||!h||d(n)){var a=this._c[e](0===n?0:n,r);return t?this:a}})}),'size'in N&&y(E.prototype,'size',{get:function(){return this._c.size}})):(E=g.getConstructor(t,e,m,I),l(E.prototype,n),o.NEED=!0),f(E,e),v[e]=E,a(a.G+a.W+a.F,v),h||g.setStrong(E,e,m),E}},function(e,t,n){var r=n(11),a=n(44),o=n(16),i=n(30),s=n(129);e.exports=function(e,t){var n=1==e,l=4==e,p=6==e,u=t||s;return function(t,s,d){for(var y,_,c=o(t),g=a(c),O=r(s,d,3),f=i(g.length),m=0,h=n?u(t,f):2==e?u(t,0):void 0;f>m;m++)if((5==e||p||m in g)&&(y=g[m],_=O(y,m,c),e))if(n)h[m]=_;else if(_)switch(e){case 3:return!0;case 5:return y;case 6:return m;case 2:h.push(y);}else if(l)return!1;return p?-1:3==e||l?l:h}}},function(e,t,n){var r=n(130);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(6),a=n(62),o=n(3)('species');e.exports=function(e){var t;return a(e)&&(t=e.constructor,'function'==typeof t&&(t===Array||a(t.prototype))&&(t=void 0),r(t)&&(t=t[o],null===t&&(t=void 0))),void 0===t?Array:t}},function(e,t,n){var r=n(2);r(r.P+r.R,'Map',{toJSON:n(132)('Map')})},function(e,t,n){var r=n(51),a=n(133);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+'#toJSON isn\'t generic');return a(this)}}},function(e,t,n){var r=n(33);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t,n){e.exports={default:n(135),__esModule:!0}},function(e,t,n){n(136);var r=n(0).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(2);r(r.S+r.F*!n(7),'Object',{defineProperty:n(5).f})},function(e,t,n){e.exports={default:n(138),__esModule:!0}},function(e,t,n){n(28),n(139),e.exports=n(0).Array.from},function(e,t,n){'use strict';var r=n(11),a=n(2),o=n(16),i=n(68),s=n(69),l=n(30),p=n(140),u=n(70);a(a.S+a.F*!n(74)(function(e){Array.from(e)}),'Array',{from:function(e){var t,n,a,d,f=o(e),y='function'==typeof this?this:Array,_=arguments.length,c=1<_?arguments[1]:void 0,g=void 0!==c,O=0,m=u(f);if(g&&(c=r(c,2<_?arguments[2]:void 0,2)),void 0!=m&&!(y==Array&&s(m)))for(d=m.call(f),n=new y;!(a=d.next()).done;O++)p(n,O,g?i(d,c,[a.value,O],!0):a.value);else for(t=l(f.length),n=new y(t);t>O;O++)p(n,O,g?c(f[O],O):f[O]);return n.length=O,n}})},function(e,t,n){'use strict';var r=n(5),a=n(22);e.exports=function(e,t,n){t in e?r.f(e,t,a(0,n)):e[t]=n}},function(e,t,n){e.exports={default:n(142),__esModule:!0}},function(e,t,n){n(143),e.exports=n(0).Reflect.construct},function(e,t,n){var r=n(2),a=n(24),o=n(21),i=n(9),s=n(6),l=n(10),p=n(144),u=(n(1).Reflect||{}).construct,d=l(function(){function e(){}return!(u(function(){},[],e)instanceof e)}),f=!l(function(){u(function(){})});r(r.S+r.F*(d||f),'Reflect',{construct:function(e,t){o(e),i(t);var n=3>arguments.length?e:o(arguments[2]);if(f&&!d)return u(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);}var r=[null];return r.push.apply(r,t),new(p.apply(e,r))}var l=n.prototype,y=a(s(l)?l:Object.prototype),_=Function.apply.call(e,y,t);return s(_)?_:y}})},function(e,t,n){'use strict';var r=n(21),a=n(6),o=n(72),i=[].slice,s={},l=function(e,t,r){if(!(t in s)){for(var a=[],n=0;n<t;n++)a[n]='a['+n+']';s[t]=Function('F,a','return new F('+a.join(',')+')')}return s[t](e,r)};e.exports=Function.bind||function(e){var t=r(this),n=i.call(arguments,1),s=function(){var r=n.concat(i.call(arguments));return this instanceof s?l(t,r.length,r):o(t,r,e)};return a(t.prototype)&&(s.prototype=t.prototype),s}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default={fileSignature:{byteOffsetInSection:0,length:4,sectionByBuild:{98650:1},type:'string',getSection:function(){return 1}},saveGameVersion:{byteOffsetInSection:4,length:4,sectionByBuild:{98650:1},type:'int',getSection:function(){return 1}},gameVersion:{byteOffsetInSection:8,length:null,sectionByBuild:{230620:1},type:'string',getSection:function(e){return 7<=e?1:null}},gameBuild:{byteOffsetInSection:null,length:null,sectionByBuild:{230620:1},type:'string',getSection:function(e){return 7<=e?1:null}},currentTurn:{byteOffsetInSection:null,length:4,sectionByBuild:{98650:1},type:'int'},gameMode:{byteOffsetInSection:null,length:1,sectionByBuild:{98650:1},type:'int',values:['Single player','Multiplayer','Hotseat']},player1Civilization:{byteOffsetInSection:null,length:null,sectionByBuild:{98650:1},type:'string'},difficulty:{byteOffsetInSection:null,length:null,sectionByBuild:{98650:1},type:'string'},startingEra:{byteOffsetInSection:null,length:null,sectionByBuild:{98650:1},type:'string'},currentEra:{byteOffsetInSection:null,length:null,sectionByBuild:{98650:1},type:'string'},gamePace:{byteOffsetInSection:null,length:null,sectionByBuild:{98650:1},type:'string'},mapSize:{byteOffsetInSection:null,length:null,sectionByBuild:{98650:1},type:'string'},mapFile:{byteOffsetInSection:null,length:null,sectionByBuild:{98650:1},type:'string'},enabledDLC:{byteOffsetInSection:null,length:null,sectionByBuild:{98650:1},type:'dlcStringArray'},playerStatuses:{byteOffsetInSection:4,length:64,sectionByBuild:{98650:4},type:'intArray',values:['','AI','Dead','Human','None']},playerCivilizations:{byteOffsetInSection:4,length:64,sectionByBuild:{310700:8},type:'stringArray'},section19SkipSavePath:{byteOffsetInSection:260,length:null,sectionByBuild:{98650:17,262623:18,395070:19},type:'string'},section19SkipUsername:{byteOffsetInSection:null,length:null,sectionByBuild:{98650:17,262623:18,395070:19},type:'string'},section19Skip1:{byteOffsetInSection:null,length:7,sectionByBuild:{98650:17,262623:18,395070:19},type:'bytes'},section19Map:{byteOffsetInSection:null,length:null,sectionByBuild:{98650:17,262623:18,395070:19},type:'string'},section19Skip2:{byteOffsetInSection:null,length:4,sectionByBuild:{98650:17,262623:18,395070:19},type:'bytes'},maxTurns:{byteOffsetInSection:null,length:4,sectionByBuild:{98650:17,262623:18,395070:19},type:'int'},playerNames2:{byteOffsetInSection:4,length:64,sectionByBuild:{98650:21,262623:22,395070:23},type:'stringArray'},section23Skip1:{byteOffsetInSection:null,length:4,sectionByBuild:{98650:21,262623:22,395070:23},type:'int'},turnTimerLength:{byteOffsetInSection:null,length:4,sectionByBuild:{98650:21,262623:22,395070:23},type:'int'},playerColours:{byteOffsetInSection:4,length:64,sectionByBuild:{310700:24,395070:25},type:'stringArray'},privateGame:{byteOffsetInSection:null,length:1,sectionByBuild:{310700:24,395070:25},type:'bool'},section29Timer1:{byteOffsetInSection:269,length:null,sectionByBuild:{98650:27,262623:28,395070:29},type:'string'},section29Skip1:{byteOffsetInSection:null,length:12,sectionByBuild:{98650:27,262623:28,395070:29},type:'bytes'},section29TurnTimer:{byteOffsetInSection:null,length:null,sectionByBuild:{98650:27,262623:28,395070:29},type:'string'},section29TxtKeyTurnTimer:{byteOffsetInSection:null,length:null,sectionByBuild:{98650:27,262623:28,395070:29},type:'string'},section29Timer2:{byteOffsetInSection:null,length:null,sectionByBuild:{98650:27,262623:28,395070:29},type:'string'},section29Skip2:{byteOffsetInSection:null,length:25,sectionByBuild:{98650:27,262623:28,395070:29},type:'bytes'},timeVictory:{byteOffsetInSection:null,length:1,sectionByBuild:{98650:27,262623:28,395070:29},type:'bool'},scienceVictory:{byteOffsetInSection:null,length:1,sectionByBuild:{98650:27,262623:28,395070:29},type:'bool'},dominationVictory:{byteOffsetInSection:null,length:1,sectionByBuild:{98650:27,262623:28,395070:29},type:'bool'},culturalVictory:{byteOffsetInSection:null,length:1,sectionByBuild:{98650:27,262623:28,395070:29},type:'bool'},diplomaticVictory:{byteOffsetInSection:null,length:1,sectionByBuild:{98650:27,262623:28,395070:29},type:'bool'},section30Skip1:{byteOffsetInSection:4,length:null,sectionByBuild:{98650:28,262623:29,395070:30},type:'bytes',getLength:function(e){return e.includes('Expansion - Gods and Kings')||e.includes('Expansion - Brave New World')?76:72}},section30MapSize1:{byteOffsetInSection:null,length:null,sectionByBuild:{98650:28,262623:29,395070:30},type:'string'},section30TxtKeyMapHelp:{byteOffsetInSection:null,length:null,sectionByBuild:{98650:28,262623:29,395070:30},type:'string'},section30Skip2:{byteOffsetInSection:null,length:8,sectionByBuild:{98650:28,262623:29,395070:30},type:'bytes'},section30MapSize2:{byteOffsetInSection:null,length:null,sectionByBuild:{98650:28,262623:29,395070:30},type:'string'},section30TxtKeyMapSize:{byteOffsetInSection:null,length:null,sectionByBuild:{98650:28,262623:29,395070:30},type:'string'},section30MapSize3:{byteOffsetInSection:null,length:null,sectionByBuild:{98650:28,262623:29,395070:30},type:'string'},section30Skip3:{byteOffsetInSection:null,length:null,sectionByBuild:{98650:28,262623:29,395070:30},type:'bytes',getLength:function(e){return e.includes('Expansion - Brave New World')?80:e.includes('Expansion - Gods and Kings')?76:72}},gameOptionsMap:{byteOffsetInSection:null,length:null,sectionByBuild:{98650:28,262623:29,395070:30},type:'stringToBoolMap'}}},function(e,t,n){'use strict';function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=n(4),o=r(a),i=n(8),s=r(i),l=n(78),p=r(l),u=n(147),d=r(u),f=n(150),y=r(f),_=n(35),c=r(_),g=n(34),O=r(g),m=n(151),h=r(m),S=n(36),E=r(S),I=n(152),N=r(I),v=function(){function e(){(0,o.default)(this,e)}return(0,s.default)(e,null,[{key:'fromType',value:function(e,t,n,r){switch(e){case'bool':return new p.default(t,n);case'bytes':return new O.default(t,n);case'dlcStringArray':return new d.default(t,r);case'int':return new c.default(t,n);case'intArray':return new y.default(t,n,r);case'string':return new E.default(t,n,r);case'stringArray':return new h.default(t,n,r);case'stringToBoolMap':return new N.default(t,r);default:throw new Error('Property type '+e+' not handled');}}}]),e}();t.default=v},function(e,t,n){'use strict';function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=n(54),o=r(a),i=n(4),s=r(i),l=n(8),p=r(l),u=n(35),d=r(u),f=n(36),y=r(f),_=function(){function e(t,n){if((0,s.default)(this,e),this.byteOffset=t,this.length=4,this._array=[],this._size=new d.default(this.byteOffset,4,n),0<this._getSize(n)){for(var r=this.byteOffset+4,a=0;a<this._getSize(n);a++){r+=20;var i=new y.default(r,null,n);r+=i.length,this._array.push(i.getValue(n))}this.length=r-this.byteOffset}(0,o.default)(this._array)}return(0,p.default)(e,[{key:'_getSize',value:function(e){return this._size.getValue(e)}},{key:'getArray',value:function(){return this._array}}]),e}();t.default=_},function(e,t,n){n(149),e.exports=n(0).Object.freeze},function(e,t,n){var r=n(6),a=n(31).onFreeze;n(39)('freeze',function(e){return function(t){return e&&r(t)?e(a(t)):t}})},function(e,t,n){'use strict';function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=n(54),o=r(a),i=n(4),s=r(i),l=n(8),p=r(l),u=n(35),d=r(u),f=function(){function e(t,n,r){(0,s.default)(this,e),this.byteOffset=t,this._array=[];for(var a,l=this.byteOffset,p=0;p<n;p++)a=new d.default(l,4,r),l+=a.length,this._array.push(a.getValue(r));this.length=l-this.byteOffset,(0,o.default)(this._array)}return(0,p.default)(e,[{key:'getArray',value:function(){return this._array}}]),e}();t.default=f},function(e,t,n){'use strict';function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=n(54),o=r(a),i=n(4),s=r(i),l=n(8),p=r(l),u=n(36),d=r(u),f=function(){function e(t,n,r){(0,s.default)(this,e),this.byteOffset=t,this._array=[];for(var a,l=this.byteOffset,p=0;p<n;p++)a=new d.default(l,null,r),l+=a.length,this._array.push(a.getValue(r));this.length=l-this.byteOffset,(0,o.default)(this._array)}return(0,p.default)(e,[{key:'getArray',value:function(){return this._array}}]),e}();t.default=f},function(e,t,n){'use strict';function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=n(76),o=r(a),i=n(4),s=r(i),l=n(8),p=r(l),u=n(78),d=r(u),f=n(77),y=r(f),_=n(35),c=r(_),g=n(36),O=r(g),m=function(){function e(t,n){if((0,s.default)(this,e),this.byteOffset=t,this.length=4,this._items=new o.default,this._size=new c.default(this.byteOffset,4,n),0<this._getSize(n))for(var r=this.byteOffset+4,a=0;a<this._getSize(n);a++)r=this._addItemToMap(n,r)}return(0,p.default)(e,[{key:'_addItemToMap',value:function(e,t){var n=new O.default(t,null,e);t+=n.length;var r=new d.default(t,4,e);return t+=r.length,this._items.set(n.getValue(e),r),this.length=t-this.byteOffset,t}},{key:'_getSize',value:function(e){return this._size.getValue(e)}},{key:'_setSize',value:function(e,t){this._size.setValue(e,t)}},{key:'getValue',value:function(e,t){return!!this._items.has(t)&&this._items.get(t).getValue(e)}},{key:'setValue',value:function(e,t,n){return this._items.has(t)?void this._items.get(t).setValue(e,n):this._addItemToSaveData(e,t,n)}},{key:'_addItemToSaveData',value:function(e,t,n){this._setSize(e,this._getSize(e)+1);var r=this._int32ToUint8Array(t.length),a=this._stringToUint8Array(t),o=this._int32ToUint8Array(+n),i=this._concatTypedArrays(this._concatTypedArrays(r,a),o),s=this._insertIntoTypedArray(new Uint8Array(e.buffer),i,this.byteOffset+this.length),l=new y.default(s.buffer);return this._addItemToMap(l,this.byteOffset+this.length),l}},{key:'_int32ToUint8Array',value:function(e){for(var t,n=new Uint8Array(4),r=0;r<n.length;r++)t=255&e,n[r]=t,e=(e-t)/256;return n}},{key:'_stringToUint8Array',value:function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}},{key:'_concatTypedArrays',value:function(e,t){var n=new e.constructor(e.length+t.length);return n.set(e,0),n.set(t,e.length),n}},{key:'_insertIntoTypedArray',value:function(e,t,n){return this._concatTypedArrays(this._concatTypedArrays(e.slice(0,n),t),e.slice(n,e.length))}}]),e}();t.default=m},function(e,t,n){'use strict';function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var a=n(15),o=r(a),i=n(4),s=r(i),l=n(17),p=r(l),u=n(19),d=r(u),f=function(e){function t(e){(0,s.default)(this,t);var n=(0,p.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.name=n.constructor.name,'function'==typeof Error.captureStackTrace?Error.captureStackTrace(n,n.constructor):n.stack=new Error(e).stack,n}return(0,d.default)(t,e),t}(Error);t.default=f}])});